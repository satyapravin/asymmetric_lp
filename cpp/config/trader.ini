# Trader Process Configuration
# This file configures the trader process with strategy and ZMQ communication

[GLOBAL]
PROCESS_NAME=trading_strategy
LOG_LEVEL=INFO
CONFIG_VERSION=1.0
ENVIRONMENT=production

# Process management
PID_FILE=/tmp/trader.pid
LOG_FILE=/var/log/trading/trader.log
LOG_ROTATION_SIZE_MB=100
LOG_RETENTION_DAYS=30

# Strategy configuration
STRATEGY_TYPE=market_making
STRATEGY_CONFIG_FILE=config/strategy_config.json
ENABLED_EXCHANGES=BINANCE,DERIBIT,GRVT

# Risk management
MAX_POSITION_SIZE=1.0
MAX_DAILY_LOSS=1000.0
POSITION_LIMIT_PER_SYMBOL=0.1
RISK_CHECK_INTERVAL_MS=1000

# =============================================================================
# ZMQ PUBLISHER ENDPOINTS (Trader publishes to)
# =============================================================================
[PUBLISHERS]
# Order events published to trading engines
ORDER_EVENTS_PUB_ENDPOINT=tcp://127.0.0.1:6002

# Position events published to position servers
POSITION_EVENTS_PUB_ENDPOINT=tcp://127.0.0.1:6003

# Strategy events published to monitoring systems
STRATEGY_EVENTS_PUB_ENDPOINT=tcp://127.0.0.1:6004

# Market data events published to other systems
MARKET_DATA_PUB_ENDPOINT=tcp://127.0.0.1:6001

# =============================================================================
# ZMQ SUBSCRIBER ENDPOINTS (Trader subscribes to)
# =============================================================================
[SUBSCRIBERS]
# Market data from quote servers
QUOTE_SERVER_SUB_ENDPOINT=tcp://127.0.0.1:7001

# Position updates from position servers
POSITION_SERVER_SUB_ENDPOINT=tcp://127.0.0.1:7002

# Order updates from trading engines
TRADING_ENGINE_SUB_ENDPOINT=tcp://127.0.0.1:7003

# =============================================================================
# EXCHANGE CONFIGURATIONS
# =============================================================================
[EXCHANGE_BINANCE]
ENABLED=true
EXCHANGE_NAME=BINANCE
ASSET_TYPE=futures
QUOTE_SERVER_ENDPOINT=tcp://127.0.0.1:7001
POSITION_SERVER_ENDPOINT=tcp://127.0.0.1:7002
TRADING_ENGINE_ENDPOINT=tcp://127.0.0.1:7003
SYMBOLS=BTCUSDT,ETHUSDT,ADAUSDT
MAX_ORDERS_PER_SYMBOL=10
ORDER_SIZE_LIMIT=1.0

[EXCHANGE_DERIBIT]
ENABLED=true
EXCHANGE_NAME=DERIBIT
ASSET_TYPE=options
QUOTE_SERVER_ENDPOINT=tcp://127.0.0.1:7001
POSITION_SERVER_ENDPOINT=tcp://127.0.0.1:7002
TRADING_ENGINE_ENDPOINT=tcp://127.0.0.1:7003
SYMBOLS=BTC-PERPETUAL,ETH-PERPETUAL
MAX_ORDERS_PER_SYMBOL=5
ORDER_SIZE_LIMIT=0.5

[EXCHANGE_GRVT]
ENABLED=false
EXCHANGE_NAME=GRVT
ASSET_TYPE=perpetual
QUOTE_SERVER_ENDPOINT=tcp://127.0.0.1:7001
POSITION_SERVER_ENDPOINT=tcp://127.0.0.1:7002
TRADING_ENGINE_ENDPOINT=tcp://127.0.0.1:7003
SYMBOLS=BTCUSDT
MAX_ORDERS_PER_SYMBOL=3
ORDER_SIZE_LIMIT=0.2

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
[PERFORMANCE]
# Threading
MAX_WORKER_THREADS=4
MARKET_DATA_THREADS=2
ORDER_PROCESSING_THREADS=2

# Message processing
MAX_MESSAGE_QUEUE_SIZE=10000
MESSAGE_PROCESSING_TIMEOUT_MS=100
BATCH_PROCESSING_SIZE=100

# Memory management
MAX_MEMORY_USAGE_MB=512
GC_INTERVAL_MS=5000

# =============================================================================
# MONITORING AND METRICS
# =============================================================================
[MONITORING]
ENABLE_METRICS=true
METRICS_PORT=8080
METRICS_ENDPOINT=/metrics
HEALTH_CHECK_INTERVAL_MS=5000
PERFORMANCE_REPORT_INTERVAL_MS=60000

# Alerting
ENABLE_ALERTS=true
ALERT_EMAIL=trader@company.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/xxx
ALERT_THRESHOLDS=position_limit_exceeded,order_rejection_rate_high,connection_lost
