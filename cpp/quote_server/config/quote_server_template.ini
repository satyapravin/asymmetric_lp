# Quote Server Configuration Template
# This file configures a quote server for a specific exchange
# Copy this file and rename to quote_server_<EXCHANGE>.ini

[GLOBAL]
PROCESS_NAME=quote_server
EXCHANGE_NAME=BINANCE
LOG_LEVEL=INFO
CONFIG_VERSION=1.0
ENVIRONMENT=production

# Process management
PID_FILE=/tmp/quote_server_BINANCE.pid
LOG_FILE=/var/log/trading/quote_server_BINANCE.log
LOG_ROTATION_SIZE_MB=100
LOG_RETENTION_DAYS=30

# Exchange-specific settings
ASSET_TYPE=futures
API_KEY=your_binance_api_key
API_SECRET=your_binance_api_secret
TESTNET_MODE=false

# =============================================================================
# ZMQ PUBLISHER ENDPOINTS (Quote server publishes to)
# =============================================================================
[PUBLISHERS]
# Market data published to trader
MARKET_DATA_PUB_ENDPOINT=tcp://127.0.0.1:6001

# Orderbook data published to other systems
ORDERBOOK_PUB_ENDPOINT=tcp://127.0.0.1:6005

# Ticker data published to monitoring
TICKER_PUB_ENDPOINT=tcp://127.0.0.1:6006

# Trade data published to analytics
TRADE_PUB_ENDPOINT=tcp://127.0.0.1:6007

# =============================================================================
# ZMQ SUBSCRIBER ENDPOINTS (Quote server subscribes to)
# =============================================================================
[SUBSCRIBERS]
# Commands from trader
TRADER_SUB_ENDPOINT=tcp://127.0.0.1:7001

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
[WEBSOCKET]
# Public WebSocket URLs
WS_PUBLIC_URL=wss://fstream.binance.com/ws
WS_PUBLIC_BACKUP_URL=wss://fstream.binance.com/ws

# Private WebSocket URLs (if needed)
WS_PRIVATE_URL=wss://fstream.binance.com/ws
WS_PRIVATE_BACKUP_URL=wss://fstream.binance.com/ws

# Connection settings
WS_RECONNECT_INTERVAL_MS=5000
WS_PING_INTERVAL_MS=30000
WS_PONG_TIMEOUT_MS=10000
WS_MAX_RECONNECT_ATTEMPTS=10
WS_CONNECTION_TIMEOUT_MS=10000

# Message handling
WS_MAX_MESSAGE_SIZE_KB=1024
WS_MESSAGE_BUFFER_SIZE=10000
WS_PROCESSING_THREADS=2

# =============================================================================
# MARKET DATA CONFIGURATION
# =============================================================================
[MARKET_DATA]
# Symbols to subscribe to
SYMBOLS=BTCUSDT,ETHUSDT,ADAUSDT,BNBUSDT,SOLUSDT
SYMBOL_UPDATE_INTERVAL_MS=100

# Data types to collect
COLLECT_TICKER=true
COLLECT_ORDERBOOK=true
COLLECT_TRADES=true
COLLECT_KLINE=true

# Orderbook settings
ORDERBOOK_DEPTH=20
ORDERBOOK_UPDATE_INTERVAL_MS=100
ORDERBOOK_SNAPSHOT_INTERVAL_MS=1000

# Kline settings
KLINE_INTERVALS=1m,5m,15m,1h,4h,1d
KLINE_UPDATE_INTERVAL_MS=1000

# =============================================================================
# DATA PROCESSING
# =============================================================================
[DATA_PROCESSING]
# Data validation
VALIDATE_MARKET_DATA=true
VALIDATE_ORDERBOOK=true
VALIDATE_TRADES=true

# Data filtering
FILTER_DUPLICATE_MESSAGES=true
FILTER_STALE_DATA=true
STALE_DATA_THRESHOLD_MS=5000

# Data transformation
NORMALIZE_SYMBOL_NAMES=true
CONVERT_PRICE_TO_DOUBLE=true
CONVERT_QTY_TO_DOUBLE=true

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
[PERFORMANCE]
# Threading
MAX_WORKER_THREADS=4
WEBSOCKET_THREADS=2
DATA_PROCESSING_THREADS=2

# Message processing
MAX_MESSAGE_QUEUE_SIZE=50000
MESSAGE_PROCESSING_TIMEOUT_MS=50
BATCH_PROCESSING_SIZE=1000

# Memory management
MAX_MEMORY_USAGE_MB=1024
GC_INTERVAL_MS=10000
DATA_RETENTION_MINUTES=60

# =============================================================================
# MONITORING AND METRICS
# =============================================================================
[MONITORING]
ENABLE_METRICS=true
METRICS_PORT=8081
METRICS_ENDPOINT=/metrics
HEALTH_CHECK_INTERVAL_MS=5000
PERFORMANCE_REPORT_INTERVAL_MS=60000

# Data quality metrics
TRACK_MESSAGE_COUNT=true
TRACK_LATENCY=true
TRACK_DROPPED_MESSAGES=true
TRACK_CONNECTION_STATUS=true

# Alerting
ENABLE_ALERTS=true
ALERT_EMAIL=quoteserver@company.com
ALERT_THRESHOLDS=connection_lost,high_latency,message_drop_rate_high
